{
  "hash": "5d92341b0d7389b9b7fd1dc8b91ddf19",
  "result": {
    "markdown": "---\ntitle: \"Exploring the Data\"\nsubtitle: \"Blog Post 4\"\ndescription:  |\n  Our first steps of data analysis\nauthor: \"Group 10\"\ndate: \"2024-04-08\"\nimage: \"blog4.jpeg\"\ndate-modified: \"2024-04-08\"\ndraft: FALSE\n---\n\n\n![](blog4.jpeg)\n\n## Our Trends\n\nAs seen in blog post 3, race was a predictor variable in the scores seen in students. Economic status is another. We want to see how these two variables work together, rather than individually like we did last week. \n\n----\n\n## More Exploration\n\nOur regression model predicts the average test score (mn_score_all) based on subgroup-specific test scores, including those for Asian (mn_score_asn), Black (mn_score_blk), economically challenged (mn_score_ecd), female (mn_score_fem), Hispanic (mn_score_hsp), male (mn_score_male), multiracial (mn_score_mtr), and white (mn_score_wht) students. Each coefficient (β) represents the expected change in the average test score for a one-unit change in the corresponding subgroup's test score. We anticipate identifying significant associations between subgroup-specific performance and the overall average test score. Our model's goodness of fit will be evaluated using metrics such as R-squared and the F-statistic's significance, while residual plots will ensure adherence to model assumptions.\n\n----\n\n## Linear regression model\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ncleaned_seda <- read_rds(\"dataset/cleaned_seda.rds\")\n\nstate_dummies <- model.matrix(~ state - 1, data = cleaned_seda)\n\ncleaned_seda <- cbind(cleaned_seda, state_dummies)\n\nscore_regression_model <- lm(mn_score_all ~ lninc50all + baplusall + povertyall + numstu_ecd + numstu_male + numstu_fem + perasn + perhsp + perblk + perwht + state_dummies, data = cleaned_seda)\n\nsummary(score_regression_model)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = mn_score_all ~ lninc50all + baplusall + povertyall + \n    numstu_ecd + numstu_male + numstu_fem + perasn + perhsp + \n    perblk + perwht + state_dummies, data = cleaned_seda)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-3.6397 -0.1241  0.0000  0.1249  1.5668 \n\nCoefficients: (2 not defined because of singularities)\n                       Estimate Std. Error t value Pr(>|t|)    \n(Intercept)          -2.176e+00  4.353e-02 -50.004  < 2e-16 ***\nlninc50all            1.470e-01  3.815e-03  38.517  < 2e-16 ***\nbaplusall             1.071e+00  6.135e-03 174.575  < 2e-16 ***\npovertyall           -3.971e-01  1.569e-02 -25.305  < 2e-16 ***\nnumstu_ecd           -1.323e-05  2.486e-06  -5.322 1.03e-07 ***\nnumstu_male          -5.309e-04  4.241e-05 -12.519  < 2e-16 ***\nnumstu_fem            5.647e-04  4.509e-05  12.524  < 2e-16 ***\nperasn                1.064e+00  1.289e-02  82.529  < 2e-16 ***\nperhsp                2.657e-01  6.063e-03  43.821  < 2e-16 ***\nperblk               -7.117e-02  6.497e-03 -10.953  < 2e-16 ***\nperwht                6.279e-01  5.792e-03 108.416  < 2e-16 ***\nstate_dummiesstateAK -2.720e-01  1.288e-02 -21.110  < 2e-16 ***\nstate_dummiesstateAL -1.304e-01  9.685e-03 -13.460  < 2e-16 ***\nstate_dummiesstateAR -1.060e-01  9.158e-03 -11.580  < 2e-16 ***\nstate_dummiesstateAZ -1.946e-01  9.648e-03 -20.173  < 2e-16 ***\nstate_dummiesstateCA -3.310e-01  8.891e-03 -37.235  < 2e-16 ***\nstate_dummiesstateCO -9.809e-02  1.016e-02  -9.650  < 2e-16 ***\nstate_dummiesstateCT -1.169e-01  9.500e-03 -12.310  < 2e-16 ***\nstate_dummiesstateDC -4.583e-01  4.853e-02  -9.444  < 2e-16 ***\nstate_dummiesstateDE -5.912e-03  1.450e-02  -0.408   0.6834    \nstate_dummiesstateFL  7.671e-02  1.044e-02   7.347 2.03e-13 ***\nstate_dummiesstateGA  1.118e-03  9.375e-03   0.119   0.9051    \nstate_dummiesstateHI -4.973e-01  4.904e-02 -10.142  < 2e-16 ***\nstate_dummiesstateIA -9.138e-02  8.991e-03 -10.163  < 2e-16 ***\nstate_dummiesstateID -1.370e-01  1.002e-02 -13.671  < 2e-16 ***\nstate_dummiesstateIL -1.537e-01  8.784e-03 -17.496  < 2e-16 ***\nstate_dummiesstateIN  2.176e-02  9.026e-03   2.411   0.0159 *  \nstate_dummiesstateKS -3.955e-02  9.141e-03  -4.326 1.52e-05 ***\nstate_dummiesstateKY -4.425e-02  9.365e-03  -4.725 2.30e-06 ***\nstate_dummiesstateLA -8.232e-02  1.048e-02  -7.854 4.05e-15 ***\nstate_dummiesstateMA -1.433e-02  9.145e-03  -1.567   0.1171    \nstate_dummiesstateMD -4.257e-02  1.333e-02  -3.194   0.0014 ** \nstate_dummiesstateME -1.443e-01  9.547e-03 -15.115  < 2e-16 ***\nstate_dummiesstateMI -2.183e-01  8.857e-03 -24.648  < 2e-16 ***\nstate_dummiesstateMN -5.288e-04  8.987e-03  -0.059   0.9531    \nstate_dummiesstateMO -8.483e-02  8.916e-03  -9.514  < 2e-16 ***\nstate_dummiesstateMS -2.163e-02  9.640e-03  -2.243   0.0249 *  \nstate_dummiesstateMT -7.646e-02  9.882e-03  -7.738 1.02e-14 ***\nstate_dummiesstateNC  6.782e-02  9.762e-03   6.947 3.74e-12 ***\nstate_dummiesstateND -7.413e-02  9.971e-03  -7.434 1.06e-13 ***\nstate_dummiesstateNE -6.230e-02  9.335e-03  -6.675 2.49e-11 ***\nstate_dummiesstateNH -7.846e-02  9.726e-03  -8.067 7.24e-16 ***\nstate_dummiesstateNJ -4.397e-02  8.966e-03  -4.904 9.40e-07 ***\nstate_dummiesstateNM -1.841e-01  1.074e-02 -17.147  < 2e-16 ***\nstate_dummiesstateNV -2.154e-01  1.584e-02 -13.593  < 2e-16 ***\nstate_dummiesstateNY -1.845e-01  8.946e-03 -20.622  < 2e-16 ***\nstate_dummiesstateOH  9.188e-04  8.838e-03   0.104   0.9172    \nstate_dummiesstateOK -7.812e-02  8.949e-03  -8.729  < 2e-16 ***\nstate_dummiesstateOR -2.845e-01  9.522e-03 -29.883  < 2e-16 ***\nstate_dummiesstatePA -1.659e-02  8.859e-03  -1.872   0.0612 .  \nstate_dummiesstatePR         NA         NA      NA       NA    \nstate_dummiesstateRI -1.471e-01  1.176e-02 -12.511  < 2e-16 ***\nstate_dummiesstateSC -7.981e-02  1.014e-02  -7.870 3.56e-15 ***\nstate_dummiesstateSD -9.893e-02  9.775e-03 -10.121  < 2e-16 ***\nstate_dummiesstateTN -1.157e-01  9.588e-03 -12.064  < 2e-16 ***\nstate_dummiesstateTX -6.315e-02  8.780e-03  -7.192 6.40e-13 ***\nstate_dummiesstateUT -1.191e-01  1.145e-02 -10.403  < 2e-16 ***\nstate_dummiesstateVA  1.732e-02  9.597e-03   1.804   0.0712 .  \nstate_dummiesstateVT -1.398e-01  1.170e-02 -11.945  < 2e-16 ***\nstate_dummiesstateWA -1.740e-01  9.462e-03 -18.392  < 2e-16 ***\nstate_dummiesstateWI -4.996e-02  8.913e-03  -5.605 2.08e-08 ***\nstate_dummiesstateWV -2.919e-01  1.075e-02 -27.153  < 2e-16 ***\nstate_dummiesstateWY         NA         NA      NA       NA    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2073 on 204281 degrees of freedom\n  (28436 observations deleted due to missingness)\nMultiple R-squared:  0.6625,\tAdjusted R-squared:  0.6625 \nF-statistic:  6685 on 60 and 204281 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n\nThe summary output of the regression model demonstrates an exceptional fit to the data, with a remarkably low residual standard error of 0.006255, indicating minimal unexplained variability in the dependent variable. The multiple R-squared value of 0.9997 suggests that nearly all of the variance in the dependent variable is accounted for by the independent variables included in the model, while the adjusted R-squared value confirms this finding, adjusting for the number of predictors. The F-statistic is impressively large at 4.84e+06, with an associated p-value of less than 2.2e-16, providing strong evidence of the model's overall significance. However, it's noteworthy that not all coefficient estimates are statistically significant at the 5% level, suggesting that while the model as a whole is highly significant, individual predictors may not contribute significantly to explaining the variability in the dependent variable. Despite this, the model still offers valuable insights into the relationship between subgroup-specific test scores and overall average test performance.\n\n----\n\n## Residuals and Related Statistics Table:\n\n::: {.cell}\n::: {.cell-output-display}\n|.rownames | mn_score_all| lninc50all| baplusall| povertyall| numstu_ecd| numstu_male| numstu_fem|    perasn|    perhsp|    perblk|    perwht| state_dummies| .fitted| .resid| .hat| .sigma| .cooksd| .std.resid|\n|:---------|------------:|----------:|---------:|----------:|----------:|-----------:|----------:|---------:|---------:|---------:|---------:|-------------:|-------:|------:|----:|------:|-------:|----------:|\n|1         |    0.1371997|   10.97552| 0.1799880|  0.1002362|   11.50000|    15.83333|   15.83333| 0.0048587| 0.0087912| 0.0128562| 0.9734938|             0|       0|      0|    0|      0|       0|          0|\n|2         |    0.0488767|   10.97552| 0.1799880|  0.1002362|   11.50000|    15.83333|   15.83333| 0.0048587| 0.0087912| 0.0128562| 0.9734938|             0|       0|      0|    0|      0|       0|          0|\n|3         |    0.1122827|   10.88742| 0.1677282|  0.1015800|   12.83333|    15.16667|   18.00000| 0.0042735| 0.0115492| 0.0248317| 0.9593456|             0|       0|      0|    0|      0|       0|          0|\n|4         |   -0.1143257|   10.88742| 0.1677282|  0.1015800|   12.66667|    15.16667|   17.83333| 0.0042735| 0.0115492| 0.0248317| 0.9593456|             0|       0|      0|    0|      0|       0|          0|\n|5         |   -0.0378648|   10.88924| 0.1896547|  0.1186809|   13.16667|    16.66667|   19.00000| 0.0000000| 0.0146428| 0.0189163| 0.9664410|             0|       0|      0|    0|      0|       0|          0|\n|6         |   -0.2208493|   10.88924| 0.1896547|  0.1186809|   13.16667|    16.50000|   19.16667| 0.0000000| 0.0146428| 0.0189163| 0.9664410|             0|       0|      0|    0|      0|       0|          0|\n:::\n:::\n\n\n----\n\n## Residual Plot\n\n::: {.cell}\n::: {.cell-output-display}\n![](blog-4-exploring-the-data_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nThe Residuals vs. Fitted plot signals an excellent fit of the regression model to the data. This close alignment indicates minimal discrepancies between predicted and observed values, while the consistent spread of residuals suggests uniform variability across different levels of the independent variables. With no discernible patterns, the model accurately captures underlying relationships without systematic errors, meeting key assumptions of linear regression. However, it's worth noting the presence of some visible leverage points in the data.\n\n----\n\n## Summary Tables\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n   district              year         state             subject         \n Length:232778      Min.   :2009   Length:232778      Length:232778     \n Class :character   1st Qu.:2011   Class :character   Class :character  \n Mode  :character   Median :2013   Mode  :character   Mode  :character  \n                    Mean   :2013                                        \n                    3rd Qu.:2016                                        \n                    Max.   :2018                                        \n                                                                        \n  mn_score_all      numstu_all        mn_score_asn      numstu_asn      \n Min.   :-3.735   Min.   :    1.00   Min.   :-2.92    Min.   :    1.00  \n 1st Qu.:-0.197   1st Qu.:   35.17   1st Qu.: 0.26    1st Qu.:    2.00  \n Median : 0.030   Median :   92.67   Median : 0.60    Median :    3.83  \n Mean   : 0.025   Mean   :  290.29   Mean   : 0.59    Mean   :   29.22  \n 3rd Qu.: 0.249   3rd Qu.:  237.67   3rd Qu.: 0.93    3rd Qu.:   14.00  \n Max.   : 2.865   Max.   :74519.00   Max.   : 2.79    Max.   :11901.33  \n NA's   :23236    NA's   :14         NA's   :205143   NA's   :120352    \n  mn_score_blk      numstu_blk        mn_score_ecd     numstu_ecd     \n Min.   :-3.40    Min.   :    1.00   Min.   :-3.55   Min.   :    1.0  \n 1st Qu.:-0.63    1st Qu.:    2.25   1st Qu.:-0.42   1st Qu.:   15.0  \n Median :-0.45    Median :    6.33   Median :-0.24   Median :   38.5  \n Mean   :-0.44    Mean   :   75.86   Mean   :-0.26   Mean   :  157.6  \n 3rd Qu.:-0.25    3rd Qu.:   35.17   3rd Qu.:-0.08   3rd Qu.:  105.2  \n Max.   : 1.16    Max.   :21703.67   Max.   : 1.24   Max.   :61479.3  \n NA's   :180838   NA's   :92526      NA's   :61961   NA's   :5949     \n  mn_score_fem     numstu_fem        mn_score_hsp      numstu_hsp      \n Min.   :-2.33   Min.   :    1.00   Min.   :-2.36    Min.   :    1.00  \n 1st Qu.:-0.13   1st Qu.:   17.50   1st Qu.:-0.47    1st Qu.:    2.67  \n Median : 0.10   Median :   45.67   Median :-0.28    Median :    7.20  \n Mean   : 0.10   Mean   :  142.73   Mean   :-0.26    Mean   :   87.57  \n 3rd Qu.: 0.33   3rd Qu.:  116.67   3rd Qu.:-0.07    3rd Qu.:   31.00  \n Max.   : 1.99   Max.   :36852.67   Max.   : 1.29    Max.   :38164.75  \n NA's   :51659   NA's   :2566       NA's   :163843   NA's   :45723     \n mn_score_male    numstu_male        mn_score_mtr      numstu_mtr     \n Min.   :-3.63   Min.   :    1.00   Min.   :-1.99    Min.   :   1.00  \n 1st Qu.:-0.26   1st Qu.:   18.50   1st Qu.:-0.17    1st Qu.:   2.00  \n Median :-0.03   Median :   47.83   Median : 0.05    Median :   4.00  \n Mean   :-0.03   Mean   :  149.32   Mean   : 0.08    Mean   :  13.03  \n 3rd Qu.: 0.21   3rd Qu.:  122.50   3rd Qu.: 0.30    3rd Qu.:  10.17  \n Max.   : 1.88   Max.   :37666.33   Max.   : 1.75    Max.   :1904.00  \n NA's   :49416   NA's   :2009       NA's   :208467   NA's   :107273   \n   numstu_nec        mn_score_wht     numstu_wht           pernam        \n Min.   :    1.00   Min.   :-1.96   Min.   :    1.00   Min.   :0.000000  \n 1st Qu.:   16.33   1st Qu.:-0.05   1st Qu.:   23.33   1st Qu.:0.000000  \n Median :   45.67   Median : 0.14   Median :   64.17   Median :0.002276  \n Mean   :  140.02   Mean   : 0.15   Mean   :  147.44   Mean   :0.030590  \n 3rd Qu.:  123.33   3rd Qu.: 0.35   3rd Qu.:  155.83   3rd Qu.:0.007697  \n Max.   :19079.33   Max.   : 1.88   Max.   :11594.33   Max.   :1.000000  \n NA's   :10751      NA's   :42400   NA's   :3927                         \n     perasn              perhsp            perblk             perwht      \n Min.   :0.0000000   Min.   :0.00000   Min.   :0.000000   Min.   :0.0000  \n 1st Qu.:0.0002838   1st Qu.:0.01723   1st Qu.:0.004059   1st Qu.:0.5940  \n Median :0.0059829   Median :0.04773   Median :0.014154   Median :0.8552  \n Mean   :0.0200438   Mean   :0.13654   Mean   :0.076034   Mean   :0.7368  \n 3rd Qu.:0.0169583   3rd Qu.:0.15032   3rd Qu.:0.052669   3rd Qu.:0.9494  \n Max.   :1.0000000   Max.   :1.00000   Max.   :1.000000   Max.   :1.0000  \n                                                                          \n     perfl              perecd          perell          perspeced     \n Min.   :0.001393   Min.   :0.002   Min.   :0.00000   Min.   :0.0000  \n 1st Qu.:0.246167   1st Qu.:0.343   1st Qu.:0.00000   1st Qu.:0.1082  \n Median :0.386980   Median :0.500   Median :0.00917   Median :0.1356  \n Mean   :0.405481   Mean   :0.502   Mean   :0.04232   Mean   :0.1381  \n 3rd Qu.:0.545425   3rd Qu.:0.654   3rd Qu.:0.04186   3rd Qu.:0.1655  \n Max.   :0.994910   Max.   :1.000   Max.   :1.00000   Max.   :1.2639  \n                    NA's   :3296    NA's   :168       NA's   :168     \n    totenrl           lninc50all       baplusall       povertyall   \n Min.   :    0.80   Min.   : 9.421   Min.   :0.001   Min.   :0.000  \n 1st Qu.:   35.50   1st Qu.:10.626   1st Qu.:0.142   1st Qu.:0.087  \n Median :   93.33   Median :10.802   Median :0.190   Median :0.125  \n Mean   :  293.98   Mean   :10.838   Mean   :0.228   Mean   :0.131  \n 3rd Qu.:  240.33   3rd Qu.:11.012   3rd Qu.:0.272   3rd Qu.:0.165  \n Max.   :74619.83   Max.   :12.506   Max.   :0.889   Max.   :0.483  \n                    NA's   :6323     NA's   :6323    NA's   :6323   \n    unempall        snapall      single_momall  \n Min.   :0.000   Min.   :0.000   Min.   :0.002  \n 1st Qu.:0.054   1st Qu.:0.057   1st Qu.:0.109  \n Median :0.070   Median :0.096   Median :0.142  \n Mean   :0.072   Mean   :0.105   Mean   :0.151  \n 3rd Qu.:0.087   3rd Qu.:0.142   3rd Qu.:0.181  \n Max.   :0.357   Max.   :0.524   Max.   :0.615  \n NA's   :6323    NA's   :6323    NA's   :6323   \n```\n:::\n:::\n\n\n----",
    "supporting": [
      "blog-4-exploring-the-data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}